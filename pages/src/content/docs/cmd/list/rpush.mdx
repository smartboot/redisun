---
title: RPUSH
description: Redis RPUSH 命令用于将一个或多个值插入到列表的尾部。
sidebar:
  order: 2
---

import { Code } from '@astrojs/starlight/components'

将一个或多个值插入到列表的尾部(右边)。如果 key 不存在，一个空列表会被创建并执行 RPUSH 操作。当 key 存在但不是列表类型时，返回一个错误。

### Redis 原生命令语法

<Code code={`RPUSH key element [element ...]`} lang="bash" />

**参数说明**

- **key**: 列表的键
- **element**: 一个或多个要插入到列表尾部的元素

### 详细说明

RPUSH 命令是列表操作命令之一，它将指定的元素插入到列表的尾部。如果有多个元素，它们会按照从左到右的顺序依次插入到列表尾部。

## Redisun 使用方式

在 redisun 中，RPUSH 命令通过 RPushCommand 类和 Redisun 类中的 rpush 方法实现。

### 基本用法

<Code code={`Redisun redisun = Redisun.create(options -> {
    options.setAddress("redis://127.0.0.1:6379");
});

// 插入单个元素到列表尾部
long result = redisun.rpush("mylist", "value1");
System.out.println("List length after RPUSH: " + result);

// 插入多个元素到列表尾部
long result2 = redisun.rpush("mylist", "value2", "value3");
System.out.println("List length after RPUSH multiple values: " + result2);

// 异步版本
CompletableFuture<Long> future = redisun.asyncRpush("mylist", "value4");
future.thenAccept(length -> System.out.println("Async RPUSH result: " + length));`} lang="java" />

## 注意事项

1. 如果 key 不存在，会自动创建一个空列表然后执行 RPUSH 操作
2. 如果 key 存在但不是列表类型，会抛出异常
3. 插入多个元素时，它们会按照参数顺序从左到右依次插入到列表尾部
4. 命令返回操作后列表的长度
5. 操作是原子性的

## 参考资料

- [Redis RPUSH 命令官方文档](https://redis.io/commands/rpush/)